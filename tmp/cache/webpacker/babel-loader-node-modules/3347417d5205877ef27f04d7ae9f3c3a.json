{"ast":null,"code":"import { BrowserQRCodeReader } from '@zxing/library';\nimport Rails from '@rails/ujs'; // Use to make an ajax post request to Rails\n\nvar codeReader = new BrowserQRCodeReader();\ncodeReader.decodeOnceFromVideoDevice(undefined, 'video').then(function (result) {\n  var qrDataFromReader = result.text; // Prepare a post request so it can be sent to the Rails controller\n\n  var formData = new FormData();\n  var qrCodeParams = {\n    qr_data: qrDataFromReader\n  };\n  formData.append(\"qr_code_json_data\", JSON.stringify(qrCodeParams)); // Send QR code data as JSON to the \n  // qr_codes#create action using Rails ujs\n\n  Rails.ajax({\n    url: \"/qr_codes\",\n    type: \"post\",\n    data: formData\n  });\n})[\"catch\"](function (error) {\n  console.error(error);\n});","map":{"version":3,"sources":["/Users/felixhermann/Documents/GreenImpact/app/javascript/packs/rails-qr-code-reader.js"],"names":["BrowserQRCodeReader","Rails","codeReader","decodeOnceFromVideoDevice","undefined","then","result","qrDataFromReader","text","formData","FormData","qrCodeParams","qr_data","append","JSON","stringify","ajax","url","type","data","error","console"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,gBAApC;AACA,OAAOC,KAAP,MAAkB,YAAlB,C,CAAgC;;AAEhC,IAAMC,UAAU,GAAG,IAAIF,mBAAJ,EAAnB;AAEAE,UAAU,CACLC,yBADL,CAC+BC,SAD/B,EAC0C,OAD1C,EAEKC,IAFL,CAEU,UAACC,MAAD,EAAY;AACd,MAAIC,gBAAgB,GAAGD,MAAM,CAACE,IAA9B,CADc,CAGd;;AACA,MAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AAEA,MAAIC,YAAY,GAAG;AACfC,IAAAA,OAAO,EAAEL;AADM,GAAnB;AAIAE,EAAAA,QAAQ,CAACI,MAAT,CAAgB,mBAAhB,EAAqCC,IAAI,CAACC,SAAL,CAAeJ,YAAf,CAArC,EAVc,CAYd;AACA;;AACAV,EAAAA,KAAK,CAACe,IAAN,CAAW;AACPC,IAAAA,GAAG,EAAE,WADE;AAEPC,IAAAA,IAAI,EAAE,MAFC;AAGPC,IAAAA,IAAI,EAAEV;AAHC,GAAX;AAMH,CAtBL,WAuBW,UAAAW,KAAK,EAAI;AACZC,EAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH,CAzBL","sourcesContent":["import { BrowserQRCodeReader } from '@zxing/library';\nimport Rails from '@rails/ujs'; // Use to make an ajax post request to Rails\n\nconst codeReader = new BrowserQRCodeReader();\n\ncodeReader\n    .decodeOnceFromVideoDevice(undefined, 'video')\n    .then((result) => {\n        let qrDataFromReader = result.text;\n\n        // Prepare a post request so it can be sent to the Rails controller\n        let formData = new FormData();\n\n        let qrCodeParams = {\n            qr_data: qrDataFromReader\n        };\n\n        formData.append(\"qr_code_json_data\", JSON.stringify(qrCodeParams));\n\n        // Send QR code data as JSON to the \n        // qr_codes#create action using Rails ujs\n        Rails.ajax({\n            url: \"/qr_codes\",\n            type: \"post\",\n            data: formData\n        });\n\n    })\n    .catch(error => {\n        console.error(error);\n    });"]},"metadata":{},"sourceType":"module"}